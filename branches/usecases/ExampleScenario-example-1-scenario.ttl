@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://hl7belgium.org/fhir/riziv-medicationrecord/ExampleScenario/example-1-scenario> a fhir:ExampleScenario ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "example-1-scenario"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: ExampleScenario</b><a name=\"example-1-scenario\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">Resource ExampleScenario &quot;example-1-scenario&quot; </p></div><p><b>url</b>: <code>http://hl7belgium.org/fhir/riziv-medicationrecord/ExampleScenario/example-1-scenario</code></p><p><b>version</b>: 0.1.0-test</p><p><b>name</b>: ChangedmedicationSameVOSScenario</p><p><b>status</b>: draft</p><p><b>experimental</b>: false</p><p><b>date</b>: 2019-09-11 00:00:00+0100</p><p><b>publisher</b>: HL7 Belgium</p><p><b>contact</b>: <a href=\"http://hl7belgium.org\">http://hl7belgium.org</a></p><p><b>jurisdiction</b>: Belgium <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.3.0/CodeSystem-ISO3166Part1.html\">ISO 3166-1 Codes for the representation of names of countries and their subdivisions â€” Part 1: Country code</a>#BE)</span></p><blockquote><p><b>actor</b></p><p><b>actorId</b>: PATIENT</p><p><b>type</b>: person</p><p><b>name</b>: Pia Peters</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: GP</p><p><b>type</b>: person</p><p><b>name</b>: Dr. Durant</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: VAULT</p><p><b>type</b>: entity</p><p><b>name</b>: Vault</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: PHARM</p><p><b>type</b>: person</p><p><b>name</b>: Pharmacist</p></blockquote><blockquote><p><b>actor</b></p><p><b>actorId</b>: GP2</p><p><b>type</b>: person</p><p><b>name</b>: Dr. Omar</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-prescription</p><p><b>name</b>: Amlor Prescription</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: EB</p><p><b>name</b>: Empty Bundle</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-treatmentLine</p><p><b>name</b>: New Treatment Line</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-treatment</p><p><b>name</b>: New Treatment</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-dispense</p><p><b>name</b>: Amlodipin Sandoz dispense</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-1-provenance</p><p><b>name</b>: Link Prescription and treatmentLine</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-2-provenance</p><p><b>name</b>: Link Dispense and treatmentLine</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-summary-view</p><p><b>name</b>: Summary view for a Physician</p></blockquote><blockquote><p><b>instance</b></p><p><b>resourceId</b>: 1-scheduled-view</p><p><b>name</b>: Scheduled Administrations view for a Patient</p></blockquote><blockquote><p><b>process</b></p><p><b>title</b>: Change Branded Prescription</p><p><b>description</b>: A different product than the one prescribed does not link a dispense to the same treatment line.</p><p><b>preConditions</b>: The patient visits their GP and is prescribed Amlor for hypertension. The GP prescribes Amlor, but at the pharmacy there is no Amlor and amlodipin Sandoz is dispensed.</p><p><b>postConditions</b>: When the prescription is made, a new treatment and treatment line are created. For linking the prescription to them, a provenance is created. It enables to see which prescriptions and dispenses are associated to each treatment.</p><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Initial Contact</p><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Treatment resources Creation</p><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Dispense</p><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Resource Linkage</p><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Vizualization Data for physician</p><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote><blockquote><p><b>step</b></p><blockquote><p><b>process</b></p><p><b>title</b>: Vizualization Data for patient (scheduled Administrations)</p><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote><blockquote><p><b>step</b></p></blockquote></blockquote></blockquote></blockquote></div>"
  ] ; # 
  fhir:url [ fhir:v "http://hl7belgium.org/fhir/riziv-medicationrecord/ExampleScenario/example-1-scenario"^^xsd:anyURI] ; # 
  fhir:version [ fhir:v "0.1.0-test"] ; # 
  fhir:name [ fhir:v "ChangedmedicationSameVOSScenario"] ; # 
  fhir:status [ fhir:v "draft"] ; # 
  fhir:experimental [ fhir:v "false"^^xsd:boolean] ; # 
  fhir:date [ fhir:v "2019-09-11T00:00:00.000+01:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "HL7 Belgium"] ; # 
  fhir:contact ( [
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "http://hl7belgium.org" ]
     ] )
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "urn:iso:std:iso:3166"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "BE" ]
     ] )
  ] ) ; # 
  fhir:actor ( [
     fhir:actorId [ fhir:v "PATIENT" ] ;
     fhir:type [ fhir:v "person" ] ;
     fhir:name [ fhir:v "Pia Peters" ]
  ] [
     fhir:actorId [ fhir:v "GP" ] ;
     fhir:type [ fhir:v "person" ] ;
     fhir:name [ fhir:v "Dr. Durant" ]
  ] [
     fhir:actorId [ fhir:v "VAULT" ] ;
     fhir:type [ fhir:v "entity" ] ;
     fhir:name [ fhir:v "Vault" ]
  ] [
     fhir:actorId [ fhir:v "PHARM" ] ;
     fhir:type [ fhir:v "person" ] ;
     fhir:name [ fhir:v "Pharmacist" ]
  ] [
     fhir:actorId [ fhir:v "GP2" ] ;
     fhir:type [ fhir:v "person" ] ;
     fhir:name [ fhir:v "Dr. Omar" ]
  ] ) ; # 
  fhir:instance ( [
     fhir:resourceId [ fhir:v "1-prescription" ] ;
     fhir:name [ fhir:v "Amlor Prescription" ]
  ] [
     fhir:resourceId [ fhir:v "EB" ] ;
     fhir:name [ fhir:v "Empty Bundle" ]
  ] [
     fhir:resourceId [ fhir:v "1-treatmentLine" ] ;
     fhir:name [ fhir:v "New Treatment Line" ]
  ] [
     fhir:resourceId [ fhir:v "1-treatment" ] ;
     fhir:name [ fhir:v "New Treatment" ]
  ] [
     fhir:resourceId [ fhir:v "1-dispense" ] ;
     fhir:name [ fhir:v "Amlodipin Sandoz dispense" ]
  ] [
     fhir:resourceId [ fhir:v "1-1-provenance" ] ;
     fhir:name [ fhir:v "Link Prescription and treatmentLine" ]
  ] [
     fhir:resourceId [ fhir:v "1-2-provenance" ] ;
     fhir:name [ fhir:v "Link Dispense and treatmentLine" ]
  ] [
     fhir:resourceId [ fhir:v "1-summary-view" ] ;
     fhir:name [ fhir:v "Summary view for a Physician" ]
  ] [
     fhir:resourceId [ fhir:v "1-scheduled-view" ] ;
     fhir:name [ fhir:v "Scheduled Administrations view for a Patient" ]
  ] ) ; # 
  fhir:process ( [
     fhir:title [ fhir:v "Change Branded Prescription" ] ;
     fhir:description [ fhir:v "A different product than the one prescribed does not link a dispense to the same treatment line." ] ;
     fhir:preConditions [ fhir:v "The patient visits their GP and is prescribed Amlor for hypertension. The GP prescribes Amlor, but at the pharmacy there is no Amlor and amlodipin Sandoz is dispensed." ] ;
     fhir:postConditions [ fhir:v "When the prescription is made, a new treatment and treatment line are created. For linking the prescription to them, a provenance is created. It enables to see which prescriptions and dispenses are associated to each treatment." ] ;
     fhir:step ( [
       fhir:process ( [
         fhir:title [ fhir:v "Initial Contact" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Goes to appointment" ] ;
             fhir:initiator [ fhir:v "PATIENT" ] ;
             fhir:receiver [ fhir:v "GP" ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Get Patient's Medication" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "GP" ] ;
             fhir:response [
               fhir:resourceId [ fhir:v "EB" ]
             ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Create new prescription" ] ;
             fhir:initiator [ fhir:v "GP" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-prescription" ]
             ]
           ]
         ] )
       ] )
     ] [
       fhir:process ( [
         fhir:title [ fhir:v "Treatment resources Creation" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Create new treatment" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-treatment" ]
             ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Create new treatment Line" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-treatmentLine" ]
             ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Resource Linking" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-1-provenance" ]
             ]
           ]
         ] )
       ] )
     ] [
       fhir:process ( [
         fhir:title [ fhir:v "Dispense" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Get patient's Prescriptions" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "PHARM" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "EB" ]
             ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Create new dispense" ] ;
             fhir:initiator [ fhir:v "PHARM" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-dispense" ]
             ]
           ]
         ] )
       ] )
     ] [
       fhir:process ( [
         fhir:title [ fhir:v "Resource Linkage" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Resource Linking" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-2-provenance" ]
             ]
           ]
         ] )
       ] )
     ] [
       fhir:process ( [
         fhir:title [ fhir:v "Vizualization Data for physician" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Requiring Visualization" ] ;
             fhir:initiator [ fhir:v "GP2" ] ;
             fhir:receiver [ fhir:v "VAULT" ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Creating Visualization" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Displaying Visualization" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "GP2" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-summary-view" ]
             ]
           ]
         ] )
       ] )
     ] [
       fhir:process ( [
         fhir:title [ fhir:v "Vizualization Data for patient (scheduled Administrations)" ] ;
         fhir:step ( [
           fhir:operation [
             fhir:name [ fhir:v "Requiring Visualization" ] ;
             fhir:initiator [ fhir:v "PATIENT" ] ;
             fhir:receiver [ fhir:v "VAULT" ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Creating Visualization" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "VAULT" ]
           ]
         ] [
           fhir:operation [
             fhir:name [ fhir:v "Displaying Visualization" ] ;
             fhir:initiator [ fhir:v "VAULT" ] ;
             fhir:receiver [ fhir:v "PATIENT" ] ;
             fhir:request [
               fhir:resourceId [ fhir:v "1-scheduled-view" ]
             ]
           ]
         ] )
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

